<body class="body-AnhVN">
<div class="container">
  <!--  <h2 style="margin-top: 20px;margin-left: 20px;text-align: center;font-family: 'Varela Round', sans-serif !important; font-size: 32px !important; ">Danh sách thông tin thành viên</h2>-->
  <h2 style="margin-top: 20px;margin-left: 20px;text-align: center; color: #566787;"><strong>Danh Sách Thông Tin Thành
    Viên</strong></h2>

  <hr>
</div>

<div class="container" style="margin-bottom: 150px">
  <div class="table-responsive">
    <div class="table-wrapper">

      <div class="table-title" style="background: #f28123">

        <div class="row">

          <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
            <div style="display: flex;justify-content: space-between">

              <div>
                <h2 style="font-family: 'Varela Round', sans-serif !important; font-size: 24px !important;">Thành
                  viên</h2>
              </div>

              <div style="display: flex">

                <input [(ngModel)]="memberName" id="memberName" name="memberName" type="search"
                       class="form-control rounded mx-1" placeholder="Tìm kiếm theo tên" aria-label="Search"
                       aria-describedby="search-addon" style="height: 46px;width: 200px;margin-left: 10px;">
                <label for="pointRange"></label>
                <select class="form-select mx-1" id="pointRange" name="pointRange" [(ngModel)]="pointRange"
                        style="width: 187px !important;" [value]="0">
                  <option value="0">Khoảng điểm</option>
                  <option>0-999</option>
                  <option>1000-1999</option>
                  <option>2000-4999</option>
                  <option>5000-9999</option>
                </select>

                <button type="submit" class="input-group-text border-0 mx-1" id="search-addon" (click)="searchMembers()"
                        style="padding-left: 1rem !important; margin-right: 0rem !important;background-color: white !important;margin-right: 3px !important;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                       class="bi bi-search" viewBox="0 0 16 16" style="margin-right: 3px;color: #f28123;">
                    <path
                      d="M11.742 10.344a6.5 6.5 0 1 0-1.397 1.398h-.001c.03.04.062.078.098.115l3.85 3.85a1 1 0 0 0 1.415-1.414l-3.85-3.85a1.007 1.007 0 0 0-.115-.1zM12 6.5a5.5 5.5 0 1 1-11 0 5.5 5.5 0 0 1 11 0z"/>
                  </svg>
                </button>

                <button type="submit" class="input-group-text border-0 mx-1" id="reset-search" (click)="resetSearch()"ng s
                        style="padding-left: 1rem !important; margin-right: 0rem !important;background-color: white !important;">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                       class="bi bi-x-circle" viewBox="0 0 16 16" style="margin-right: 3px;color: f28123">
                    <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14zm0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16z"/>
                    <path
                      d="M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"/>
                  </svg>
                </button>

              </div>

            </div>
          </div>

        </div>
      </div>

      <div class="row">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">
          <table class="table table-striped table-hover">

            <thead>
            <tr>
              <th
                style="text-align: left;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">
                <span style="margin-left: 20px">Mã thành viên</span></th>
              <th
                style="text-align: left;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">
                <span style="margin-left: 20px">Họ và tên</span></th>

              <!--              <th style="text-align: center;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">Số điện thoại</th>-->

              <th
                style="text-align: left;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">
                <span style="margin-left: 20px">Giới tính</span></th>
              <!--              <th style="text-align: center;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">Địa chỉ</th>-->

              <th
                style="text-align: left;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">
                <span style="margin-left: 20px">Email</span></th>
              <th
                style="text-align: left;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">
                <span style="margin-left: 20px">Điểm thưởng</span></th>

              <th
                style="text-align: left;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">
                <span style="margin-left: 20px">Thành phố</span></th>


              <!--              <th>Thành phố</th>-->
              <!--              <th style="text-align: center;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">Số CMND</th>-->


              <!--              <th style="text-align: center; font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;"></th>-->
              <th
                style="text-align: left;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">
                <span style="margin-left: 20px">Xem/Sửa</span></th>
            </tr>
            </thead>

            <tbody>

            <tr *ngFor="let member of members">
              <td
                style="text-align: left;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">
                <span style="margin-left: 20px">{{member.id}}</span></td>

              <td
                style="text-align: left;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important">
                <span style="margin-left: 20px"><img [src]="member.image" alt="" width="25px" height="25px"
                                                     style="border-radius: 10px; border-color: #f28123">
                  {{member.name}}</span>
              </td>
              <!--              <td style="text-align: center;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">{{member.phone}}</td>-->

              <td *ngIf="member.gender == 0"
                  style="text-align: left;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">
                <span style="margin-left: 20px">Nam</span></td>
              <td *ngIf="member.gender == 1"
                  style="text-align: left;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">
                <span style="margin-left: 20px">Nữ</span></td>

              <td
                style="text-align: left;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">
                <span style="margin-left: 20px">{{member.email}}</span></td>
              <td
                style="text-align: right;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">
                <span style="margin-right: 80px">{{member.point}}</span></td>

              <td
                style="text-align: left;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">
                <span style="margin-left: 20px">{{member.city.name}}</span></td>
              <!--              <td>{{member.city.name}}</td>-->
              <!--              <td style="text-align: center;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">{{member.identityNumber}}</td>-->

              <td
                style="text-align: left;font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">

                <!--                see detail information-->
                <a style="margin-left: 20px; margin-right: 10px; cursor: pointer" data-bs-toggle="modal"
                   data-bs-target="#detail-info" (click)="showInfoMember(member.id)">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                       class="bi bi-binoculars text-primary" viewBox="0 0 16 16" >
                    <path
                      d="M3 2.5A1.5 1.5 0 0 1 4.5 1h1A1.5 1.5 0 0 1 7 2.5V5h2V2.5A1.5 1.5 0 0 1 10.5 1h1A1.5 1.5 0 0 1 13 2.5v2.382a.5.5 0 0 0 .276.447l.895.447A1.5 1.5 0 0 1 15 7.118V14.5a1.5 1.5 0 0 1-1.5 1.5h-3A1.5 1.5 0 0 1 9 14.5v-3a.5.5 0 0 1 .146-.354l.854-.853V9.5a.5.5 0 0 0-.5-.5h-3a.5.5 0 0 0-.5.5v.793l.854.853A.5.5 0 0 1 7 11.5v3A1.5 1.5 0 0 1 5.5 16h-3A1.5 1.5 0 0 1 1 14.5V7.118a1.5 1.5 0 0 1 .83-1.342l.894-.447A.5.5 0 0 0 3 4.882V2.5zM4.5 2a.5.5 0 0 0-.5.5V3h2v-.5a.5.5 0 0 0-.5-.5h-1zM6 4H4v.882a1.5 1.5 0 0 1-.83 1.342l-.894.447A.5.5 0 0 0 2 7.118V13h4v-1.293l-.854-.853A.5.5 0 0 1 5 10.5v-1A1.5 1.5 0 0 1 6.5 8h3A1.5 1.5 0 0 1 11 9.5v1a.5.5 0 0 1-.146.354l-.854.853V13h4V7.118a.5.5 0 0 0-.276-.447l-.895-.447A1.5 1.5 0 0 1 12 4.882V4h-2v1.5a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5V4zm4-1h2v-.5a.5.5 0 0 0-.5-.5h-1a.5.5 0 0 0-.5.5V3zm4 11h-4v.5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5V14zm-8 0H2v.5a.5.5 0 0 0 .5.5h3a.5.5 0 0 0 .5-.5V14z"/>
                  </svg>
                </a>

                <!--                edit information-->
                <a [routerLink]="['/member/edit-account',member.id]">
                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor"
                       class="bi bi-pen text-primary" viewBox="0 0 16 16">
                    <path
                      d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001zm-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708l-1.585-1.585z"/>
                  </svg>
                </a>

              </td>

              <!--              <td style="text-align: center" style="font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">-->
              <!--                <a>-->
              <!--                  <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-pen text-primary" viewBox="0 0 16 16">-->
              <!--                    <path d="m13.498.795.149-.149a1.207 1.207 0 1 1 1.707 1.708l-.149.148a1.5 1.5 0 0 1-.059 2.059L4.854 14.854a.5.5 0 0 1-.233.131l-4 1a.5.5 0 0 1-.606-.606l1-4a.5.5 0 0 1 .131-.232l9.642-9.642a.5.5 0 0 0-.642.056L6.854 4.854a.5.5 0 1 1-.708-.708L9.44.854A1.5 1.5 0 0 1 11.5.796a1.5 1.5 0 0 1 1.998-.001zm-.644.766a.5.5 0 0 0-.707 0L1.95 11.756l-.764 3.057 3.057-.764L14.44 3.854a.5.5 0 0 0 0-.708l-1.585-1.585z"/>-->
              <!--                  </svg>-->
              <!--                </a>-->
              <!--              </td>-->
            </tr>

            </tbody>

          </table>
        </div>
      </div>

      <div class="row" *ngIf="!buttonSearchFlag">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">

          <div class="hint-text"
               style="font-family: 'Varela Round', sans-serif !important; font-size: 13px !important;">Hiển thị
            <b>{{currentMember}}</b> trên tổng số <b>{{totalMember}}</b> thành viên
          </div>

          <ul class="pagination">
            <li class="page-item" style="cursor: pointer"><a class="page-link" *ngIf="currentPage > 0"
                                                             (click)="moveToPreviousPage()">Trước</a></li>

            <li class="page-item active"><a class="page-link" style="color: white">{{currentPage + 1}}
              / {{totalPage}}</a></li>

            <li class="page-item" style="cursor: pointer"><a class="page-link" *ngIf="currentPage < totalPage - 1"
                                                             (click)="moveToNextPage()">Sau</a></li>

          </ul>
        </div>
      </div>

      <div class="row" *ngIf="buttonSearchFlag">
        <div class="col-12 col-sm-12 col-md-12 col-lg-12 col-xl-12">

          <div class="hint-text" *ngIf="totalMemberSearch > 0">Hiển thị <b>{{currentMemberSearch}}</b> trên tổng số
            <b>{{totalMemberSearch}}</b> thành viên
          </div>

          <div class="hint-text" *ngIf="totalMemberSearch == 0">Không có <b>thành viên</b> phù hợp</div>


          <ul class="pagination">
            <li class="page-item" style="cursor: pointer"><a class="page-link" *ngIf="currentPageSearch > 0"
                                                             (click)="moveToPreviousPageSearch()">Trước</a></li>

            <li class="page-item active"><a class="page-link" style="color: white"
                                            *ngIf="totalPageSearch > 0">{{currentPageSearch + 1}}
              / {{totalPageSearch}}</a></li>

            <li class="page-item" style="cursor: pointer"><a class="page-link"
                                                             *ngIf="currentPageSearch < totalPageSearch - 1"
                                                             (click)="moveToNextPageSearch()">Sau</a></li>

          </ul>
        </div>
      </div>

    </div>
  </div>
</div>

<div class="modal fade" id="detail-info" tabindex="-1" aria-labelledby="detail-info-label" aria-hidden="true">

  <div class="modal-dialog">
    <div class="modal-content">

      <div class="modal-header">
        <h5 class="modal-title lead" id="detail-info-label"
            style="text-align: left; font-family: 'Varela Round', sans-serif !important">Thông tin thành viên</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>

      <div class="modal-body" style="text-align: left; font-family: 'Varela Round', sans-serif !important">

        <p><b>Mã thành viên:</b> {{member?.id}}</p>
        <p><b>Họ và tên:</b> {{member?.name}}</p>
        <p *ngIf="member?.gender == 0"><b>Giới tính:</b> Nam</p>
        <p *ngIf="member?.gender == 1"><b>Giới tính:</b> Nữ</p>
        <p><b>Ngày sinh:</b> {{member?.dateOfBirth}}</p>
        <p><b>Địa chỉ:</b> {{member?.address}}</p>
        <p><b>Email:</b> {{member?.email}}</p>
        <p><b>Số CMND:</b> {{member?.identityNumber}}</p>
        <p><b>Điểm thưởng:</b> {{member?.point}}</p>

      </div>

      <div class="modal-footer">
        <button type="button" class="btn bg-secondary" data-bs-dismiss="modal"
                style="text-align: center;font-family: 'Varela Round', sans-serif !important;
                font-size: 13px !important; text-transform: capitalize">Quay lại
        </button>
      </div>

    </div>
  </div>

</div>


</body>
